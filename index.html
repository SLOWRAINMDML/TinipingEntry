<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">캐치! 티니핑 성격 테스트</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="질문에 답하고 나와 꼭 맞는 성격의 티니핑을 찾아보세요! 캐치! 티니핑 성격 테스트">
    <meta name="keywords" content="티니핑, 캐치티니핑, 성격테스트, 티니핑테스트, teenieping">
    <meta name="author" content="Teenieping Personality Test">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="캐치! 티니핑 성격 테스트">
    <meta property="og:description" content="질문에 답하고 나와 꼭 맞는 성격의 티니핑을 찾아보세요!">
    <meta property="og:image" content="https://github.com/SLOWRAINMDML/TinipingEntry/blob/main/tinipingss.png?raw=true">
    <meta property="og:url" content="">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="캐치! 티니핑 성격 테스트">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="캐치! 티니핑 성격 테스트">
    <meta name="twitter:description" content="질문에 답하고 나와 꼭 맞는 성격의 티니핑을 찾아보세요!">
    <meta name="twitter:image" content="https://github.com/SLOWRAINMDML/TinipingEntry/blob/main/tinipingss.png?raw=true">
    
    <!-- Additional Meta Tags -->
    <meta name="theme-color" content="#ec4899">
    <link rel="canonical" href="">
    <meta name="robots" content="index, follow">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    
    <!-- html2canvas 라이브러리 미리 로드 -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    
    <!-- 
      구글 애드센스(Google AdSense) 스크립트
      애드센스 승인 후 제공되는 스크립트를 아래 주석 바로 밑에 붙여넣으세요.
      'ca-pub-XXXXXXXXXXXXXXXX' 부분은 실제 클라이언트 ID로 변경해야 합니다.
    -->
    <!-- 
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
     crossorigin="anonymous"></script>
    -->

    <style>
        body {
            font-family: 'Jua', sans-serif;
        }
        
        /* 이미지 선명도 개선 */
        img {
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            image-rendering: pixelated;
            -webkit-backface-visibility: hidden;
            -webkit-transform: translateZ(0);
            backface-visibility: hidden;
            transform: translateZ(0);
        }
        
        /* Animation Effects */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .toast {
            animation: fadeIn 0.3s ease-in-out, fadeOut 0.3s ease-in-out 2.7s;
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
    </style>
</head>
<body class="bg-pink-50 text-gray-800 flex flex-col items-center justify-center min-h-screen p-4">

    <!-- Visitor Counter -->
    <div class="absolute top-4 left-4 z-10 bg-white rounded-md shadow px-3 py-1">
        <span class="text-sm font-bold text-gray-700">Visits: <span id="visit-counter">0</span></span>
    </div>

    <!-- Language Selector -->
    <div class="absolute top-4 right-4 z-10">
        <button onclick="setLanguage('ko')" class="text-xs font-bold py-1 px-2 bg-white shadow hover:bg-gray-100 transition border-r">🇰🇷</button>
        <button onclick="setLanguage('en')" class="text-xs font-bold py-1 px-2 bg-white shadow hover:bg-gray-100 transition border-r">🇺🇸</button>
        <button onclick="setLanguage('ja')" class="text-xs font-bold py-1 px-2 bg-white shadow hover:bg-gray-100 transition border-r">🇯🇵</button>
        <button onclick="setLanguage('zh')" class="text-xs font-bold py-1 px-2 bg-white shadow hover:bg-gray-100 transition border-r">🇨🇳</button>
        <button onclick="setLanguage('id')" class="text-xs font-bold py-1 px-2 bg-white shadow hover:bg-gray-100 transition border-r">🇮🇩</button>
        <button onclick="setLanguage('fr')" class="text-xs font-bold py-1 px-2 bg-white rounded-r-md shadow hover:bg-gray-100 transition">🇫🇷</button>
    </div>

    <div id="app" class="w-full max-w-lg mx-auto bg-white rounded-2xl shadow-xl p-6 sm:p-8 transition-all duration-500">
        
        <!-- Start Screen -->
        <div id="start-screen" class="text-center fade-in">
            <img src="https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/%EB%A1%9C%EA%B3%A0.webp" alt="Teenieping Logo" class="mx-auto rounded-full w-32 h-32 mb-4 border-4 border-pink-200 object-cover">
            <h1 id="start-title" class="text-3xl font-bold text-pink-500 mb-2"></h1>
            <p id="start-description" class="text-gray-600 mb-6"></p>
            <button id="start-btn" class="w-full bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-4 rounded-lg text-xl transition duration-300 transform hover:scale-105"></button>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden fade-in">
            <!-- Progress Bar -->
            <div class="w-full bg-gray-200 rounded-full h-2.5 mb-4">
                <div id="progress-bar" class="bg-yellow-400 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
            <div id="question-number" class="text-sm font-bold text-gray-500 mb-2"></div>
            <h2 id="question-title" class="text-2xl font-bold mb-6 text-center h-24 flex items-center justify-center"></h2>
            <div id="answer-buttons" class="grid grid-cols-1 gap-4">
                <!-- Answer buttons are dynamically added here -->
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden text-center fade-in">
            <div id="capture" class="bg-white rounded-2xl p-6 shadow-xl">
            <p id="result-intro" class="text-gray-600 font-bold"></p>
            <h2 id="result-name" class="text-4xl font-extrabold text-violet-600 my-3"></h2>
            <img id="result-image" src="" alt="Result Image" class="mx-auto rounded-2xl w-48 h-48 my-4 border-4 border-violet-300 shadow-lg object-cover">
            <h3 id="result-personality-title" class="text-xl font-bold text-gray-800 mb-2"></h3>
            <p id="result-description" class="bg-violet-50 rounded-lg p-4 text-gray-700 mb-6"></p>
            <!-- URL을 이미지에 포함 -->
            <div class="mt-4 pt-4 border-t border-gray-200">
                <p class="text-xs text-gray-500 font-mono" id="share-url"></p>
            </div>
            </div>

            <p style="padding-bottom: 10px;"></p>
            
            <div class="grid grid-cols-2 gap-4">
                <button id="retry-btn" class="w-full bg-violet-500 hover:bg-violet-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition duration-300 transform hover:scale-105"></button>
                <button id="share-btn" class="w-full bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition duration-300 transform hover:scale-105"></button>
            </div>
            
            <div id="toast-message" class="hidden fixed bottom-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-5 py-2 rounded-full text-sm"></div>
        </div>
    </div>

    <!-- Google AdSense Ad Unit -->
    <div class="mt-8">
        <!-- 
            애드센스 광고 코드를 여기에 붙여넣으세요.
            예시:
            <ins class="adsbygoogle"
                style="display:block"
                data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                data-ad-slot="1234567890"
                data-ad-format="auto"
                data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        -->
        <div class="w-full max-w-lg h-24 bg-gray-200 flex items-center justify-center text-gray-500">
            Adsense Ad Area
        </div>
    </div>


    <script>
        // --- VISITOR COUNTER ---
        function updateVisitorCounter() {
            let visits = localStorage.getItem('teenieping-visits') || 0;
            visits = parseInt(visits) + 1;
            localStorage.setItem('teenieping-visits', visits);
            document.getElementById('visit-counter').textContent = visits.toLocaleString();
        }

        // Call on page load
        updateVisitorCounter();

        // --- DATA ---
        const translations = {
            // --- KOREAN ---
            ko: {
                pageTitle: "캐치! 티니핑 성격 테스트",
                startTitle: "나와 닮은 티니핑은?",
                startDescription: "질문에 답하고 나와 꼭 맞는 성격의 티니핑을 찾아보세요!",
                startButton: "테스트 시작하기!",
                resultIntro: "두구두구... 당신의 소울메이트 티니핑은 바로!",
                resultPersonalityTitle: "이런 성격이시군요!",
                retryButton: "다시 해보기",
                shareButton: "이미지 저장",
                toastMessage: "클립보드에 링크가 복사되었어요!",
                toastImageMessage: "클립보드에 결과 이미지가 복사되었어요!",
                downloadMessage: "이미지가 다운로드되었어요!",
                questions: [
                    { question: "친구가 울고 있을 때 나는?", answers: [{ text: "따뜻하게 안아주고 괜찮다고 말해준다", type: "hachuping" }, { text: "왜 우는지 물어보고 도와준다", type: "baroping" }, { text: "재밌는 장난으로 웃게 만든다", type: "lalaping" }] },
                    { question: "새로운 놀이를 배울 때 나는?", answers: [{ text: "신나게 '해볼래!' 하고 달려간다", type: "azaping" }, { text: "규칙을 천천히 물어보고 배운다", type: "kkomkkomping" }, { text: "재밌을 것 같다며 기대한다", type: "chachaping" }] },
                    { question: "주말에 심심할 때 나는?", answers: [{ text: "좋아하는 노래 틀고 춤춘다", type: "lalaping" }, { text: "방을 깨끗하게 정리한다", type: "kkomkkomping" }, { text: "가족이나 친구랑 같이 놀고 싶다", type: "hachuping" }] },
                    { question: "조별과제에서 친구가 일을 안 할 때?", answers: [{ text: "그건 공평하지 않다고 말한다", type: "baroping" }, { text: "다 같이 잘할 방법을 생각한다", type: "chachaping" }, { text: "친구를 믿고 조용히 내 일을 한다", type: "mideoping" }] },
                    { question: "길에서 강아지를 만났을 때 나는?", answers: [{ text: "정말 귀여워! 살살 만져본다", type: "hachuping" }, { text: "와! 신기해! 같이 놀고 싶어!", type: "azaping" }, { text: "보기만 해도 행복해~ 멀리서 봐준다", type: "haeping" }] },
                    { question: "친구가 나에게 비밀을 말해줬어. 나는?", answers: [{ text: "절대 다른 사람한테 말 안 할게!", type: "mideoping" }, { text: "네 편이 되어줄게! 힘내!", type: "chachaping" }, { text: "걱정하지 마! 잘 될 거야!", type: "baroping" }] },
                    { question: "나는 언제 가장 행복해?", answers: [{ text: "작은 일에도 웃을 수 있을 때", type: "haeping" }, { text: "새로운 것에 도전할 때", type: "azaping" }, { text: "가족이나 친구와 함께 있을 때", type: "hachuping" }] },
                    { question: "내 방 정리에 대해서는?", answers: [{ text: "깔끔하게 정리되어 있어야 좋다", type: "kkomkkomping" }, { text: "조금 어질러져도 괜찮다", type: "lalaping" }, { text: "필요할 때만 정리한다", type: "azaping" }] },
                    { question: "어떤 칭찬을 가장 듣고 싶어?", answers: [{ text: "너는 정말 믿을만해!", type: "mideoping" }, { text: "너랑 있으면 기분이 좋아져!", type: "haeping" }, { text: "너는 착하구나!", type: "baroping" }] },
                    { question: "어려운 일이 생겼을 때 나는?", answers: [{ text: "분명히 잘 될 거야! 라고 생각한다", type: "chachaping" }, { text: "포기하지 않고 계속 도전한다", type: "azaping" }, { text: "친구나 가족에게 도움을 청한다", type: "mideoping" }] },
                    { question: "친구들과 생일파티를 할 때 나는?", answers: [{ text: "신나는 음악에 맞춰 춤을 춘다", type: "lalaping" }, { text: "친구들이 재밌게 놀고 있는지 챙긴다", type: "hachuping" }, { text: "뒤에서 조용히 도와준다", type: "mideoping" }] },
                    { question: "쿠키를 만들 때 나는?", answers: [{ text: "레시피 보고 정확하게 만든다", type: "kkomkkomping" }, { text: "대충 넣어도 맛있을 거야!", type: "haeping" }, { text: "즐겁게 만들면 맛있을 거야!", type: "chachaping" }] },
                    { question: "기분이 안 좋은 날 나는?", answers: [{ text: "슬픈 영화를 보면서 울어본다", type: "hachuping" }, { text: "밖에 나가서 뛰어놀며 기분전환한다", type: "azaping" }, { text: "맛있는 걸 먹고 푹 쉰다", type: "haeping" }] },
                    { question: "친구가 놀기로 한 약속을 깜빡했을 때?", answers: [{ text: "괜찮다고 말하고 다음에 또 놀자고 한다", type: "chachaping" }, { text: "친구를 믿고 기다려준다", type: "mideoping" }, { text: "약속은 지켜야 한다고 말해준다", type: "baroping" }] },
                    { question: "갖고 싶던 장난감을 선물 받았을 때?", answers: [{ text: "'와! 최고야!' 하고 펄쩍 뛴다", type: "lalaping" }, { text: "선물 준 사람을 꽉 안아준다", type: "hachuping" }, { text: "정말 고마워하며 소중히 간직한다", type: "haeping" }] },
                    { question: "우리 팀이 게임에서 졌을 때?", answers: [{ text: "괜찮아! 다음에 꼭 이기자!", type: "chachaping" }, { text: "왜 졌는지 생각해보고 연습하자고 한다", type: "baroping" }, { text: "아쉽지만 다들 열심히 했으니까 괜찮다", type: "mideoping" }] },
                    { question: "처음 보는 음식이 나왔을 때?", answers: [{ text: "무슨 맛일까? 궁금해서 바로 먹어본다", type: "azaping" }, { text: "다른 사람이 먼저 먹는 걸 보고 결정한다", type: "kkomkkomping" }, { text: "친구랑 같이 먹어보자고 한다", type: "mideoping" }] },
                    { question: "누가 지갑을 떨어뜨리는 걸 봤을 때?", answers: [{ text: "바로 달려가서 '지갑 떨어뜨렸어요!' 한다", type: "baroping" }, { text: "지갑을 주워서 직접 가져다준다", type: "hachuping" }, { text: "빨리 알려줘야겠다고 생각한다", type: "azaping" }] },
                    { question: "내 책상은 어떤 모습이야?", answers: [{ text: "모든 물건이 깔끔하게 정리되어 있다", type: "kkomkkomping" }, { text: "예쁜 소품들이 많이 있다", type: "haeping" }, { text: "조금 어지럽지만 어디에 뭐 있는지 안다", type: "lalaping" }] },
                    { question: "친구가 예쁜 옷을 입고 왔을 때?", answers: [{ text: "와! 정말 예쁘다! 어디서 샀어?", type: "lalaping" }, { text: "말 없이 엄지 척! 하고 웃어준다", type: "mideoping" }, { text: "너가 입으니까 더 예뻐 보인다!", type: "hachuping" }] },
                    { question: "가족 여행 계획을 세울 때 나는?", answers: [{ text: "어디서 자고 뭘 먹을지 꼼꼼히 계획한다", type: "kkomkkomping" }, { text: "어디든 좋아! 가서 신나게 놀자!", type: "azaping" }, { text: "가족 모두가 좋아할 곳을 찾는다", type: "chachaping" }] },
                    { question: "어떤 영화를 더 좋아해?", answers: [{ text: "신나고 재밌는 액션 영화!", type: "azaping" }, { text: "마음이 따뜻해지는 가족 영화", type: "hachuping" }, { text: "웃긴 코미디 영화", type: "haeping" }] },
                    { question: "숙제를 할 때 나는?", answers: [{ text: "좋아하는 음악을 틀고 즐겁게 한다", type: "lalaping" }, { text: "할 일 목록을 만들고 하나씩 체크한다", type: "kkomkkomping" }, { text: "다 잘 될 거야! 하고 시작한다", type: "chachaping" }] },
                    { question: "억울하게 오해받았을 때 나는?", answers: [{ text: "사실이 아니라고 차근차근 설명한다", type: "baroping" }, { text: "언젠가는 오해가 풀릴 거라고 믿는다", type: "mideoping" }, { text: "속상해서 친구에게 하소연한다", type: "hachuping" }] },
                    { question: "내가 생각하는 '용기'란?", answers: [{ text: "실패를 두려워하지 않고 일단 해보는 것", type: "azaping" }, { text: "부당한 일에 '아니오'라고 말하는 것", type: "baroping" }, { text: "소중한 사람을 지키기 위해 나서는 것", type: "mideoping" }] },
                    { question: "다른 사람과 대화할 때 나는 주로?", answers: [{ text: "이야기를 주도하며 분위기를 이끈다.", type: "lalaping" }, { text: "상대방의 이야기에 귀 기울이며 공감한다.", type: "hachuping" }, { text: "필요한 정보를 정확하게 전달하려고 노력한다.", type: "baroping" }] },
                    { question: "나만의 스트레스 해소법이 있다면?", answers: [{ text: "햇살 좋은 날 공원을 산책하며 기분 전환한다.", type: "haeping" }, { text: "그동안 미뤄왔던 일들을 하나씩 처리하며 성취감을 느낀다.", type: "kkomkkomping" }, { text: "아무것도 하지 않고 멍하니 있는다.", type: "haeping" }] },
                    { question: "새로운 사람을 만났을 때 나는?", answers: [{ text: "먼저 다가가 말을 걸며 금방 친해진다.", type: "azaping" }, { text: "상대방이 먼저 말을 걸어주길 기다린다.", type: "mideoping" }, { text: "밝게 웃으며 좋은 인상을 주려고 노력한다.", type: "chachaping" }] },
                    { question: "나를 움직이게 하는 가장 큰 원동력은?", answers: [{ text: "새로운 것에 대한 호기심과 즐거움", type: "lalaping" }, { text: "내가 정한 목표와 계획", type: "kkomkkomping" }, { text: "더 나은 미래가 올 것이라는 희망", type: "chachaping" }] },
                    { question: "선물을 할 때, 나는?", answers: [{ text: "상대방이 평소에 필요하다고 말했던 것을 기억해뒀다 선물한다.", type: "hachuping" }, { text: "실용적이고 오래 쓸 수 있는 물건을 고른다.", type: "baroping" }, { text: "깜짝 놀라게 해줄 서프라이즈 선물을 준비한다.", type: "lalaping" }] },
                    { question: "갑자기 비가 온다. 우산이 없다면?", answers: [{ text: "'까짓것 좀 맞지 뭐!' 그냥 비를 맞고 뛰어간다.", type: "azaping" }, { text: "비가 그칠 때까지 기다리거나, 다른 사람에게 빌린다.", type: "chachaping" }, { text: "잠시 처마 밑에서 비 오는 풍경을 구경한다.", type: "haeping" }] },
                    { question: "나의 장점과 가장 가까운 것은?", answers: [{ text: "어떤 상황에서도 침착함을 잃지 않는다.", type: "mideoping" }, { text: "주변 사람들을 잘 챙기고 배려한다.", type: "hachuping" }, { text: "항상 에너지가 넘치고 긍정적이다.", type: "azaping" }] },
                    { question: "해야 할 일이 산더미처럼 쌓여있을 때, 나는?", answers: [{ text: "중요도 순으로 목록을 작성하고 차근차근 시작한다.", type: "kkomkkomping" }, { text: "일단 가장 쉬운 것부터 해치우며 시동을 건다.", type: "haeping" }, { text: "'할 수 있다고 스스로를 응원하며 마음을 다잡는다.", type: "chachaping" }] },
                    { question: "내일 지구가 멸망한다면 오늘 무엇을 할까?", answers: [{ text: "사랑하는 사람들과 함께 마지막 시간을 보낸다.", type: "hachuping" }, { text: "평소에 해보고 싶었던 가장 짜릿한 일에 도전한다.", type: "azaping" }, { text: "내가 가장 좋아하는 음식을 실컷 먹는다.", type: "haeping" }] },
                    { question: "나는 어떤 사람으로 기억되고 싶나?", answers: [{ text: "함께 있으면 즐거운 사람", type: "lalaping" }, { text: "언제나 믿을 수 있는 든든한 사람", type: "mideoping" }, { text: "따뜻하고 마음이 예쁜 사람", type: "hachuping" }] },
                    { question: "조별 과제에서 아무도 나서지 않는 상황이라면?", answers: [{ text: "답답해서 내가 먼저 '이거부터 하자!'고 제안한다.", type: "azaping" }, { text: "조용히 내가 할 수 있는 역할을 먼저 찾아서 시작한다.", type: "mideoping" }, { text: "모두의 의견을 물어보고 역할을 분담한다.", type: "baroping" }] },
                    { question: "친구가 큰 성공을 거두었다. 나의 반응은?", answers: [{ text: "내 일처럼 기뻐하며 진심으로 축하해준다.", type: "haeping" }, { text: "어떻게 성공했는지 과정을 궁금해하며 배울 점을 찾는다.", type: "kkomkkomping" }, { text: "역시 넌 해낼 줄 알았어! 라며 믿음을 보여준다.", type: "chachaping" }] },
                    { question: "무인도에 딱 세 가지만 가져갈 수 있다면?", answers: [{ text: "탈출을 위한 도구(칼, 밧줄 등)", type: "baroping" }, { text: "즐거운 시간을 보낼 수 있는 것(음악, 책 등)", type: "lalaping" }, { text: "소중한 사람의 사진", type: "hachuping" }] },
                    { question: "나의 소비 습관은?", answers: [{ text: "사고 싶은 게 생기면 바로 산다.", type: "azaping" }, { text: "가계부를 쓰며 계획적으로 소비한다.", type: "kkomkkomping" }, { text: "나를 위한 선물보다는 다른 사람을 위한 선물을 더 많이 산다.", type: "hachuping" }] },
                    { question: "길을 잃어버렸을 때, 나는?", answers: [{ text: "지도를 꼼꼼히 살피거나 주변 사람에게 길을 묻는다.", type: "baroping" }, { text: "이것도 모험이야! 새로운 길을 탐험해본다.", type: "azaping" }, { text: "곧 아는 길이 나올 거라고 믿으며 계속 걷는다.", type: "chachaping" }] },
                    { question: "단체 사진을 찍을 때 나는 주로?", answers: [{ text: "가장 앞에서 활짝 웃으며 포즈를 취한다.", type: "lalaping" }, { text: "친구들 뒤에서 조용히 미소 짓는다.", type: "mideoping" }, { text: "모두가 잘 나오는지 화면을 확인해준다.", type: "kkomkkomping" }] },
                    { question: "힘든 일이 있을 때, 나에게 힘이 되는 것은?", answers: [{ text: "친구들의 따뜻한 위로 한마디", type: "hachuping" }, { text: "맛있는 음식을 먹으며 얻는 행복", type: "haeping" }, { text: "문제가 해결될 수 있다는 믿음", type: "chachaping" }] },
                    { question: "나는 '과정'과 '결과' 중 무엇이 더 중요하다고 생각하나?", answers: [{ text: "결과가 좋아야 과정도 의미 있다.", type: "baroping" }, { text: "결과와 상관없이 과정에서 즐거움을 느낀다.", type: "haeping" }, { text: "최선을 다한 과정 자체가 중요하다.", type: "mideoping" }] },
                    { question: "컴퓨터 배경화면은 주로 어떤 사진인가?", answers: [{ text: "깔끔한 기본 화면이나 단색 배경", type: "kkomkkomping" }, { text: "보기만 해도 기분 좋아지는 풍경 사진", type: "haeping" }, { text: "사랑하는 사람이나 반려동물 사진", type: "hachuping" }] },
                    { question: "다른 사람의 단점보다 장점을 보려고 노력하는 편이다.", answers: [{ text: "매우 그렇다. 긍정적으로 보려고 한다.", type: "chachaping" }, { text: "그런 편이다. 누구나 장단점은 있으니까.", type: "mideoping" }, { text: "아니다. 객관적으로 보려고 노력한다.", type: "baroping" }] },
                    { question: "계획에 없던 즉흥적인 약속을 더 좋아한다.", answers: [{ text: "그렇다! 즉흥적인 만남은 늘 신난다.", type: "lalaping" }, { text: "아니다. 계획이 틀어지는 것은 불편하다.", type: "kkomkkomping" }, { text: "상황에 따라 다르다.", type: "haeping" }] },
                    { question: "힘들어하는 친구를 위해 내가 해줄 수 있는 최고의 것은?", answers: [{ text: "옆에 있어 주는 것만으로도 힘이 될 것이다.", type: "mideoping" }, { text: "맛있는 음식을 사주며 기운을 북돋아 준다.", type: "haeping" }, { text: "문제를 해결할 수 있도록 적극적으로 돕는다.", type: "baroping" }] },
                    { question: "새로운 학기가 시작되었다. 나의 기분은?", answers: [{ text: "어떤 재미있는 일이 생길까 기대된다!", type: "azaping" }, { text: "이번 학기 목표를 세우며 마음을 다잡는다.", type: "kkomkkomping" }, { text: "새로운 친구들을 만날 생각에 설렌다.", type: "lalaping" }] },
                    { question: "나는 논리적인 사람보다 감성적인 사람에 가깝다.", answers: [{ text: "그렇다. 감수성이 풍부한 편이다.", type: "hachuping" }, { text: "아니다. 이성적으로 판단하는 편이다.", type: "baroping" }, { text: "반반인 것 같다.", type: "chachaping" }] },
                    { question: "문제가 생겼을 때, 혼자 해결하는 편이다.", answers: [{ text: "그렇다. 어떻게든 혼자 해결책을 찾는다.", type: "baroping" }, { text: "아니다. 주변 사람들에게 도움을 요청한다.", type: "chachaping" }, { text: "일단 혼자 시도해보고, 안되면 도움을 구한다.", type: "azaping" }] }
                ],
                results: {
                    hachuping: { name: "하츄핑", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/hachuping.webp", emoji: "💖", color: "#FF69B4", description: "사랑의 티니핑, 하츄핑! 당신은 다정하고 상냥하며 주변 사람들을 아끼는 따뜻한 마음을 가졌군요. 다른 사람을 돕는 것에서 큰 기쁨을 느끼는, 사랑이 넘치는 사람이에요." },
                    baroping: { name: "바로핑", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/baroping.webp", emoji: "⚖️", color: "#4169E1", description: "올바름의 티니핑, 바로핑! 당신은 정직하고 성실하며, 규칙과 정의를 중요하게 생각하는군요. 강한 책임감과 리더십으로 주변 사람들에게 신뢰를 주는 멋진 사람이에요." },
                    azaping: { name: "아자핑", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/ajaping.webp", emoji: "🔥", color: "#FFD700", description: "용기의 티니핑, 아자핑! 당신은 활기차고 용감하며, 새로운 도전을 두려워하지 않는군요. 열정적인 에너지로 주변에 긍정적인 영향을 주는, 모험심 강한 사람이에요." },
                    chachaping: { name: "차차핑", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/chachaping.webp", emoji: "🌈", color: "#32CD32", description: "희망의 티니핑, 차차핑! 당신은 긍정적이고 낙천적인 성격으로, 어려운 상황에서도 희망을 잃지 않는군요. 다른 사람들을 격려하고 응원하며 희망을 주는 사람이에요." },
                    lalaping: { name: "라라핑", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/lalaping.webp", emoji: "🎵", color: "#FF6347", description: "즐거움의 티니핑, 라라핑! 당신은 명랑하고 장난기 넘치는 유쾌한 사람이군요. 노래와 춤을 사랑하고, 주변 분위기를 즐겁게 만드는 재능을 가졌어요. 당신과 함께 있으면 늘 웃음이 가득해요!" },
                    haeping: { name: "해핑", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/happing.webp", emoji: "☀️", color: "#FFA500", description: "행복의 티니핑, 해핑! 당신은 언제나 행복하고 웃음이 많으며, 사소한 것에서도 행복을 찾는 능력을 가졌군요. 당신의 밝은 에너지가 주변 사람들에게도 행복을 전파해요." },
                    mideoping: { name: "믿어핑", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/miduping.webp", emoji: "🤝", color: "#8A2BE2", description: "믿음의 티니핑, 믿어핑! 당신은 신뢰와 약속을 가장 중요하게 생각하는군요. 진중하고 책임감이 강해 한번 맺은 인연을 소중히 여기는, 듬직하고 믿음직스러운 사람이에요." },
                    kkomkkomping: { name: "메모핑", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/memoping.webp", emoji: "📋", color: "#20B2AA", description: "기록의 티니핑, 메모핑! 당신은 정리정돈을 잘하고, 모든 일을 계획적으로 처리하는 것을 좋아하는군요. 완벽을 추구하는 꼼꼼함으로 실수가 적고, 어떤 일이든 깔끔하게 마무리하는 능력을 가졌어요." }
                }
            },
            // --- JAPANESE ---
            ja: {
                pageTitle: "キャッチ！ティニーピング性格テスト",
                startTitle: "あなたに似ているティニーピングは？",
                startDescription: "質問に答えて、あなたにぴったりの性格のティニーピングを見つけてみましょう！",
                startButton: "テストスタート！",
                resultIntro: "どきどき...あなたのソウルメイト・ティニーピングは！",
                resultPersonalityTitle: "こんな性格ですね！",
                retryButton: "もう一度",
                shareButton: "画像保存",
                toastMessage: "リンクがクリップボードにコピーされました！",
                toastImageMessage: "結果画像がクリップボードにコピーされました！",
                downloadMessage: "画像がダウンロードされました！",
                questions: [
                    { question: "友達が悲しそうに見える時、私は？", answers: [{ text: "ぎゅっと抱きしめて温かく慰める。", type: "hachuping" }, { text: "何があったか聞いて解決策を探してみる。", type: "baroping" }, { text: "楽しい話で笑わせてあげる。", type: "lalaping" }] },
                    { question: "新しい挑戦課題が与えられた時、私の反応は？", answers: [{ text: "「できる！」と叫んで勇敢に挑戦する。", type: "azaping" }, { text: "失敗しないよう念入りに計画から立てる。", type: "kkomkkomping" }, { text: "うまくいくと信じて前向きに考える。", type: "chachaping" }] },
                    { question: "アイドルになりたいと思ったのはいつ？", answers: [{ text: "小さい頃から夢見ていました。", type: "lalaping" }, { text: "友達と一緒になってからです。", type: "hachuping" }, { text: "最近、夢見始めました。", type: "chachaping" }] },
                    { question: "あなたの好きな食べ物は？", answers: [{ text: "お菓子が好きです。", type: "haeping" }, { text: "お寿司が好きです。", type: "baroping" }, { text: "お肉が好きです。", type: "azaping" }] },
                    { question: "あなたの趣味は？", answers: [{ text: "音楽を聴くことが好きです。", type: "lalaping" }, { text: "アイドルと一緒に遊ぶことが好きです。", type: "hachuping" }, { text: "新しいことに挑戦してみたいです。", type: "chachaping" }] },
                    { question: "あなたの性格は？", answers: [{ text: "明るくて楽しい性格です。", type: "lalaping" }, { text: "真面目で責任感があります。", type: "baroping" }, { text: "前向きで楽観的な性格です。", type: "chachaping" }] },
                    { question: "あなたの好きな色は？", answers: [{ text: "赤が好きです。", type: "hachuping" }, { text: "青が好きです。", type: "baroping" }, { text: "緑が好きです。", type: "azaping" }] },
                    { question: "あなたの苦手なことは？", answers: [{ text: "時間を管理することが苦手です。", type: "kkomkkomping" }, { text: "人と話すことが苦手です。", type: "hachuping" }, { text: "新しいことに挑戦するのが苦手です。", type: "chachaping" }] },
                    { question: "あなたの長所は？", answers: [{ text: "情熱的です。", type: "hachuping" }, { text: "責任感があります。", type: "baroping" }, { text: "前向きです。", type: "chachaping" }] },
                    { question: "あなたの短所は？", answers: [{ text: "時間を管理するのが苦手です。", type: "kkomkkomping" }, { text: "人と話すのが苦手です。", type: "hachuping" }, { text: "新しいことに挑戦するのが苦手です。", type: "chachaping" }] },
                    { question: "あなたの夢は？", answers: [{ text: "アイドルになることです。", type: "lalaping" }, { text: "家族と幸せになることです。", type: "hachuping" }, { text: "自分の好きなことを一生懸命やってみたいです。", type: "chachaping" }] },
                    { question: "あなたの将来の計画は？", answers: [{ text: "アイドルとして活躍したいです。", type: "lalaping" }, { text: "家族と一緒に幸せになるために努力したいです。", type: "hachuping" }, { text: "自分の好きなことを一生懸命やってみたいです。", type: "chachaping" }] },
                    { question: "あなたの恋愛観は？", answers: [{ text: "家族と一緒に幸せになることが大切です。", type: "hachuping" }, { text: "友達と一緒に楽しく過ごすことが大切です。", type: "lalaping" }, { text: "自分の幸せを追求することが大切です。", type: "chachaping" }] },
                    { question: "あなたの友情観は？", answers: [{ text: "友達と一緒に楽しく過ごすことが大切です。", type: "lalaping" }, { text: "家族と一緒に幸せになるために努力したいです。", type: "hachuping" }, { text: "自分の幸せを追求することが大切です。", type: "chachaping" }] },
                    { question: "あなたの家族観は？", answers: [{ text: "家族と一緒に幸せになることが大切です。", type: "hachuping" }, { text: "友達と一緒に楽しく過ごすことが大切です。", type: "lalaping" }, { text: "自分の幸せを追求することが大切です。", type: "chachaping" }] },
                    { question: "あなたの生活スタイルは？", answers: [{ text: "毎日の生活が楽しくて充実しています。", type: "lalaping" }, { text: "家族と一緒に過ごす時間が大切です。", type: "hachuping" }, { text: "自分の好きなことをしながら、家族と一緒に過ごす時間も大切です。", type: "chachaping" }] },
                    { question: "あなたのスマホの使い方は？", answers: [{ text: "家族と一緒に遊ぶために使用します。", type: "hachuping" }, { text: "家族と一緒に遊ぶために使用します。", type: "lalaping" }, { text: "家族と一緒に遊ぶために使用します。", type: "chachaping" }] },
                    { question: "あなたの休日の過ごし方は？", answers: [{ text: "家族と一緒に遊ぶために使用します。", type: "hachuping" }, { text: "家族と一緒に遊ぶために使用します。", type: "lalaping" }, { text: "家族と一緒に遊ぶために使用します。", type: "chachaping" }] },
                    { question: "あなたのストレス解消法は？", answers: [{ text: "家族と一緒に遊ぶことです。", type: "hachuping" }, { text: "友達と一緒に遊ぶことです。", type: "lalaping" }, { text: "新しいことに挑戦することです。", type: "chachaping" }] },
                    { question: "新しい人と出会ったとき、あなたは？", answers: [{ text: "前向きで楽観的な性格です。", type: "chachaping" }, { text: "勇気を出して前向きに挑戦します。", type: "hachuping" }, { text: "新しい人と一緒に遊ぶことを楽しみにしています。", type: "lalaping" }] },
                    { question: "あなたを動かす最大の動機は？", answers: [{ text: "新しいことに挑戦することの楽しさと好奇心", type: "lalaping" }, { text: "自分が設定した目標と計画", type: "kkomkkomping" }, { text: "より良い未来が来るという希望", type: "chachaping" }] },
                    { question: "プレゼントをするとき、あなたは？", answers: [{ text: "相手が普段必要としているものを思い出してプレゼントします。", type: "hachuping" }, { text: "実用的で長持ちするものを選びます。", type: "baroping" }, { text: "ちょっと驚かせるサプライズプレゼントを用意します。", type: "lalaping" }] },
                    { question: "傘がないとき、あなたは？", answers: [{ text: "'ちょっと待ってください！'と言って雨が止むのを待ちます。", type: "azaping" }, { text: "雨が止むまで待つか、他の人に傘を貸してもらいます。", type: "chachaping" }, { text: "一時的に雨が降るのを見て、風景を楽しみます。", type: "haeping" }] },
                    { question: "あなたの長所と最も近いものは？", answers: [{ text: "どんな状況下でも落ち着いています。", type: "mideoping" }, { text: "周りの人を気遣い、配慮しています。", type: "hachuping" }, { text: "常にエネルギーが溢れ、前向きです。", type: "azaping" }] },
                    { question: "忙しい日が続いたとき、あなたは？", answers: [{ text: "重要なことから順番にリストアップし、一つずつこなします。", type: "kkomkkomping" }, { text: "まずは簡単なことから始め、スタートします。", type: "haeping" }, { text: "'できると自分を応援しながら、心を一つにします。", type: "chachaping" }] },
                    { question: "明日地球が滅びたら、今日は何をしますか？", answers: [{ text: "家族と一緒に最後の時間を過ごします。", type: "hachuping" }, { text: "これまでやってみたいと思っていた、最も刺激的なことに挑戦します。", type: "azaping" }, { text: "自分が大好きな食べ物をたくさん食べます。", type: "haeping" }] },
                    { question: "あなたはどんな人になりたいですか？", answers: [{ text: "一緒にいると楽しくなる人", type: "lalaping" }, { text: "いつも信頼できる人", type: "mideoping" }, { text: "心が温かく、美しい人", type: "hachuping" }] },
                    { question: "グループ課題で誰も提案しない場合は？", answers: [{ text: "自分から「これから始めましょう！」と提案します。", type: "azaping" }, { text: "まずは自分ができる役割を見つけて、スタートします。", type: "mideoping" }, { text: "皆の意見を聞いて、役割を分担します。", type: "baroping" }] },
                    { question: "友人が大きな成功を収めました。あなたの反応は？", answers: [{ text: "私の仕事のように、本当に嬉しくて、本当におめでとうございます。", type: "haeping" }, { text: "どうやって成功したのか、プロセスを気にしながら、成功の秘訣を見つけます。", type: "kkomkkomping" }, { text: "いつもあなたは成功すると思っていました！ それでも、あなたは信頼を示しました。", type: "chachaping" }] },
                    { question: "無人島に3つしか持っていけないものは？", answers: [{ text: "脱出のための道具（刀、ロープなど）", type: "baroping" }, { text: "楽しい時間を過ごせるもの（音楽、本など）", type: "lalaping" }, { text: "貴重な人の写真", type: "hachuping" }] },
                    { question: "あなたのコンシューマー習慣は？", answers: [{ text: "欲しいものが出てきたらすぐに買います。", type: "azaping" }, { text: "家計簿をつけながら、計画的にコストをかけます。", type: "kkomkkomping" }, { text: "自分のためだけではなく、他の人のためにももっと多く買います。", type: "hachuping" }] },
                    { question: "道を失ったとき、あなたは？", answers: [{ text: "周りの人に道を尋ねます。", type: "baroping" }, { text: "これも冒険です！新しい道を探検してみましょう。", type: "azaping" }, { text: "すぐに分かる道が出てくると思って、ずっと歩き続けます。", type: "chachaping" }] },
                    { question: "グループ写真を撮るとき、あなたは？", answers: [{ text: "皆の前で笑顔でポーズをとります。", type: "lalaping" }, { text: "友人たちの後ろで静かに微笑みます。", type: "mideoping" }, { text: "皆がうまく写っているか確認してください。", type: "kkomkkomping" }] },
                    { question: "忙しい日があったとき、あなたに力になるのは？", answers: [{ text: "友人たちの温かな声援の一言", type: "hachuping" }, { text: "美味しい食べ物を食べながら得られる幸福", type: "haeping" }, { text: "問題が解決できるという信念", type: "chachaping" }] },
                    { question: "あなたは「過程」と「結果」のどちらが重要だと思いますか？", answers: [{ text: "結果が良ければ、過程も意味があります。", type: "baroping" }, { text: "結果とは関係なく、過程で楽しさを感じます。", type: "haeping" }, { text: "最善を尽くした過程こそが重要です。", type: "mideoping" }] },
                    { question: "コンピューターの壁紙はどんな写真ですか？", answers: [{ text: "シンプルなデザインの壁紙か、シンプルなカラーの背景", type: "kkomkkomping" }, { text: "見るだけで気分が良くなる風景の写真", type: "haeping" }, { text: "あなたが好きな人やペットの写真", type: "hachuping" }] },
                    { question: "他人の短所を見て長所を見ようとする傾向は？", answers: [{ text: "非常にそうです。前向きに見ようとします。", type: "chachaping" }, { text: "そういう傾向です。誰にでも長所と短所はあります。", type: "mideoping" }, { text: "いいえ。客観的に見ようとします。", type: "baroping" }] },
                    { question: "計画にない臨機応変な約束をもっと好きです。", answers: [{ text: "そうです！臨機応変な出会いはいつも楽しいです。", type: "lalaping" }, { text: "いいえ。計画がずれるのは不便です。", type: "kkomkkomping" }, { text: "状況に応じて変わります。", type: "haeping" }] },
                    { question: "忙しいときに忙しい友人を助けるために、あなたができる最高のものは？", answers: [{ text: "隣にいてくれるだけで力になれます。", type: "mideoping" }, { text: "美味しい食べ物を持ってきて、元気を出してくれます。", type: "haeping" }, { text: "問題を解決できるように、積極的に手助けします。", type: "baroping" }] },
                    { question: "新しい学期が始まりました。あなたの気分は？", answers: [{ text: "どんな楽しいことが起こるか楽しみです！", type: "azaping" }, { text: "今期の目標を立て、心を一つにします。", type: "kkomkkomping" }, { text: "新しい友人と出会うことを楽しみにします。", type: "lalaping" }] },
                    { question: "あなたは理論的な人よりも感覚的な人に近いです。", answers: [{ text: "そうです。感性が豊かな人です。", type: "hachuping" }, { text: "いいえ。理性的に判断する傾向があります。", type: "baroping" }, { text: "半分半分です。", type: "chachaping" }] },
                    { question: "問題が起こったとき、あなたは？", answers: [{ text: "そうです。どうにか自分で解決します。", type: "baroping" }, { text: "いいえ。周りの人に助けを求めます。", type: "chachaping" }, { text: "とりあえず試してみて、ダメなら助けを求めます。", type: "azaping" }] }
                ],
                results: {
                    hachuping: { name: "ハチューピング", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/hachuping.webp", emoji: "💖", color: "#FF69B4", description: "愛のティニーピング、ハチューピング！あなたは優しくて親切で、周りの人を大切にする温かい心を持っていますね。人を助けることに大きな喜びを感じる、愛にあふれた人です。" },
                    baroping: { name: "バロピング", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/baroping.webp", emoji: "⚖️", color: "#4169E1", description: "正しさのティニーピング、バロピング！あなたは正直で誠実で、ルールと正義を大切に思っていますね。強い責任感とリーダーシップで周りの人に信頼を与える素敵な人です。" },
                    azaping: { name: "アザピング", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/ajaping.webp", emoji: "🔥", color: "#FFD700", description: "勇気のティニーピング、アザピング！あなたは活気にあふれ勇敢で、新しい挑戦を恐れませんね。情熱的なエネルギーで周りに良い影響を与える、冒険心の強い人です。" },
                    chachaping: { name: "チャチャピング", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/chachaping.webp", emoji: "🌈", color: "#32CD32", description: "希望のティニーピング、チャチャピング！あなたは前向きで楽観的な性格で、困難な状況でも希望を失いませんね。他の人を励まし応援して希望を与える人です。" },
                    lalaping: { name: "ララピング", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/lalaping.webp", emoji: "🎵", color: "#FF6347", description: "楽しさのティニーピング、ララピング！あなたは明るくていたずら好きの愉快な人ですね。歌と踊りを愛し、周りの雰囲気を楽しくする才能があります。あなたと一緒にいるといつも笑いがいっぱいです！" },
                    haeping: { name: "ハエピング", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/happing.webp", emoji: "☀️", color: "#FFA500", description: "幸せのティニーピング、ハエピング！あなたはいつも幸せで笑顔が多く、小さなことからも幸せを見つける能力がありますね。あなたの明るいエネルギーが周りの人にも幸せを広げています。" },
                    mideoping: { name: "ミデオピング", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/miduping.webp", emoji: "🤝", color: "#8A2BE2", description: "信頼のティニーピング、ミデオピング！あなたは信頼と約束を最も大切に思っていますね。真面目で責任感が強く、一度結んだ縁を大切にする、頼もしく信頼できる人です。" },
                    kkomkkomping: { name: "メモピング", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/memoping.webp", emoji: "📋", color: "#20B2AA", description: "記録のティニーピング、メモピング！あなたは整理整頓が得意で、すべてのことを計画的に処理するのが好きですね。完璧を追求する几帳面さでミスが少なく、どんなことでもきれいに仕上げる能力があります。" }
                }
            },
            // --- CHINESE ---
            zh: {
                pageTitle: "抓住！蒂尼平性格测试",
                startTitle: "像我的蒂尼平是哪个？",
                startDescription: "回答问题，找出最适合你性格的蒂尼平吧！",
                startButton: "开始测试！",
                resultIntro: "紧张刺激...你的灵魂伴侣蒂尼平就是！",
                resultPersonalityTitle: "你是这样的性格！",
                retryButton: "重试",
                shareButton: "保存图片",
                toastMessage: "链接已复制到剪贴板！",
                toastImageMessage: "结果图片已复制到剪贴板！",
                downloadMessage: "图片已下载！",
                questions: [
                    { question: "朋友看起来难过的时候，我？", answers: [{ text: "紧紧抱住温暖地安慰。", type: "hachuping" }, { text: "询问发生了什么并寻找解决方案。", type: "baroping" }, { text: "用有趣的故事让他们笑。", type: "lalaping" }] },
                    { question: "面临新挑战时，我的反应是？", answers: [{ text: "喊着'我能行！'勇敢地挑战。", type: "azaping" }, { text: "为了不出错，先仔细制定计划。", type: "kkomkkomping" }, { text: "相信会成功，积极地思考。", type: "chachaping" }] },
                    { question: "周末没有计划时，我？", answers: [{ text: "听兴奋的音乐并跳舞来缓解压力。", type: "lalaping" }, { text: "打扫和整理房间，这是我一直在推迟的事情。", type: "kkomkkomping" }, { text: "和心爱的人一起度过时间。", type: "hachuping" }] },
                    { question: "如果团队项目中发生了不公平的事情？", answers: [{ text: "这不公平！我自信地表达我的意见。", type: "baroping" }, { text: "提出一个大家都满意的解决方案。", type: "chachaping" }, { text: "信任我的朋友并安静地完成我的工作。", type: "mideoping" }] },
                    { question: "当你在路上看到可爱的动物时？", answers: [{ text: "太可爱了！我小心地接近它。", type: "hachuping" }, { text: "哇！太酷了！我想和它一起玩！", type: "azaping" }, { text: "只是看看就让我很开心~我在远处观看。", type: "haeping" }] },
                    { question: "朋友向你透露了一个秘密。你？", answers: [{ text: "无论发生什么，我都会尽力保护它！我承诺。", type: "mideoping" }, { text: "我是你的朋友！我为他们加油。", type: "chachaping" }, { text: "不用担心！我会正确解决的。", type: "baroping" }] },
                    { question: "对你来说'幸福'是什么？", answers: [{ text: "能够感激并微笑面对小事。", type: "haeping" }, { text: "朝着目标充满活力地前进的过程。", type: "azaping" }, { text: "与心爱的人共度的每一刻。", type: "hachuping" }] },
                    { question: "你对整理和整理的看法是？", answers: [{ text: "当我把一切都安排得井井有条时，我感到很安心。", type: "kkomkkomping" }, { text: "这很重要，但有时混乱也没关系。", type: "lalaping" }, { text: "我只是在我需要的时候才这样做。", type: "azaping" }] },
                    { question: "你最想听到的赞美是什么？", answers: [{ text: "'你真是可靠。'", type: "mideoping" }, { text: "'和你在一起让我很开心。'", type: "haeping" }, { text: "'你真是正直。'", type: "baroping" }] },
                    { question: "当你面对困难的情况时？", answers: [{ text: "我努力保持积极的态度，不失去希望。", type: "chachaping" }, { text: "我勇敢地面对它，不放弃。", type: "azaping" }, { text: "我向值得信赖的朋友寻求建议。", type: "mideoping" }] }
                ],
                results: {
                    hachuping: { name: "哈啾平", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/hachuping.webp", emoji: "💖", color: "#FF69B4", description: "愛情蒂尼平，哈啾平！你温柔善良，有着关爱周围人的温暖内心。在帮助别人中感受到巨大快乐，是一个充满爱的人。" },
                    baroping: { name: "巴洛平", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/baroping.webp", emoji: "⚖️", color: "#4169E1", description: "正义蒂尼平，巴洛平！你诚实勤奋，重视规则和正义。以强烈的责任感和领导力给周围人信任的优秀人物。" },
                    azaping: { name: "阿扎平", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/ajaping.webp", emoji: "🔥", color: "#FFD700", description: "勇气蒂尼平，阿扎平！你充满活力、勇敢，不害怕新的挑战。用热情的能量对周围产生积极影响的冒险精神强的人。" },
                    chachaping: { name: "恰恰平", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/chachaping.webp", emoji: "🌈", color: "#32CD32", description: "希望蒂尼平，恰恰平！你积极乐观，即使在困难的情况下也不失去希望。鼓励和支持别人，给予希望的人。" },
                    lalaping: { name: "啦啦平", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/lalaping.webp", emoji: "🎵", color: "#FF6347", description: "快乐蒂尼平，啦啦平！你开朗爱玩，是个愉快的人。热爱歌舞，有让周围气氛愉快的才能。和你在一起总是充满笑声！" },
                    haeping: { name: "海平", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/happing.webp", emoji: "☀️", color: "#FFA500", description: "幸福蒂尼平，海平！你总是快乐，笑容很多，有从小事中寻找幸福的能力。你明亮的能量也向周围的人传播幸福。" },
                    mideoping: { name: "信任平", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/miduping.webp", emoji: "🤝", color: "#8A2BE2", description: "信任蒂尼平，信任平！你最重视信任和承诺。认真负责，珍惜一旦结成的缘分，是个可靠值得信赖的人。" },
                    kkomkkomping: { name: "备忘平", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/memoping.webp", emoji: "📋", color: "#20B2AA", description: "记录蒂尼平，备忘平！你擅长整理整顿，喜欢有计划地处理所有事情。追求完美的细致让你很少出错，有能力完美完成任何事情。" }
                }
            },
            // --- INDONESIAN ---
            id: {
                pageTitle: "Tangkap! Tes Kepribadian Teenieping",
                startTitle: "Teenieping mana yang mirip denganku?",
                startDescription: "Jawab pertanyaan dan temukan Teenieping yang cocok dengan kepribadianmu!",
                startButton: "Mulai Tes!",
                resultIntro: "Deg-degan... Teenieping jodoh jiwamu adalah!",
                resultPersonalityTitle: "Kamu punya kepribadian seperti ini!",
                retryButton: "Coba Lagi",
                shareButton: "Simpan Gambar",
                toastMessage: "Link telah disalin ke clipboard!",
                toastImageMessage: "Gambar hasil telah disalin ke clipboard!",
                downloadMessage: "Gambar telah diunduh!",
                questions: [
                    { question: "Ketika teman terlihat sedih, aku?", answers: [{ text: "Memeluk erat dan menghibur dengan hangat.", type: "hachuping" }, { text: "Bertanya apa yang terjadi dan mencari solusi.", type: "baroping" }, { text: "Menceritakan hal lucu untuk membuatnya tertawa.", type: "lalaping" }] },
                    { question: "Ketika menghadapi tantangan baru, reaksiku adalah?", answers: [{ text: "Berteriak 'Aku bisa!' dan menghadapinya dengan berani.", type: "azaping" }, { text: "Membuat rencana terlebih dahulu agar tidak salah.", type: "kkomkkomping" }, { text: "Berpikir positif dan percaya akan berhasil.", type: "chachaping" }] }
                ],
                results: {
                    hachuping: { name: "Hachuping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/hachuping.webp", emoji: "💖", color: "#FF69B4", description: "Teenieping Cinta, Hachuping! Kamu penyayang dan baik hati dengan hati yang hangat yang menyayangi orang-orang di sekitar. Kamu merasa senang besar ketika membantu orang lain, orang yang penuh kasih." },
                    baroping: { name: "Baroping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/baroping.webp", emoji: "⚖️", color: "#4169E1", description: "Teenieping Kebenaran, Baroping! Kamu jujur dan rajin, menghargai aturan dan keadilan. Orang yang luar biasa yang memberikan kepercayaan kepada orang di sekitar dengan rasa tanggung jawab dan kepemimpinan yang kuat." },
                    azaping: { name: "Azaping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/ajaping.webp", emoji: "🔥", color: "#FFD700", description: "Teenieping Keberanian, Azaping! Kamu energik dan berani, tidak takut tantangan baru. Orang yang penuh petualangan yang memberikan pengaruh positif kepada sekitar dengan energi yang penuh semangat." },
                    chachaping: { name: "Chachaping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/chachaping.webp", emoji: "🌈", color: "#32CD32", description: "Teenieping Harapan, Chachaping! Dengan kepribadian positif dan optimis, kamu tidak kehilangan harapan bahkan dalam situasi sulit. Orang yang memberikan harapan dengan mendorong dan mendukung orang lain." },
                    lalaping: { name: "Lalaping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/lalaping.webp", emoji: "🎵", color: "#FF6347", description: "Teenieping Kegembiraan, Lalaping! Kamu ceria dan nakal, orang yang menyenangkan. Kamu suka menyanyi dan menari dan punya bakat membuat suasana menjadi menyenangkan. Bersama kamu selalu penuh tawa!" },
                    haeping: { name: "Haeping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/happing.webp", emoji: "☀️", color: "#FFA500", description: "Teenieping Kebahagiaan, Haeping! Kamu selalu bahagia dan banyak tertawa, punya kemampuan menemukan kebahagiaan dalam hal-hal kecil. Energi cerahmu menyebarkan kebahagiaan kepada orang-orang di sekitar." },
                    mideoping: { name: "Mideoping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/miduping.webp", emoji: "🤝", color: "#8A2BE2", description: "Teenieping Kepercayaan, Mideoping! Kamu menganggap kepercayaan dan janji sebagai hal yang paling penting. Orang yang dapat diandalkan dan dipercaya yang serius dan bertanggung jawab, menghargai hubungan yang pernah terjalin." },
                    kkomkkomping: { name: "Memoping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/memoping.webp", emoji: "📋", color: "#20B2AA", description: "Teenieping Catatan, Memoping! Kamu pandai mengatur dan suka menangani semua hal secara terencana. Dengan kerapian yang mengejar kesempurnaan, kamu jarang melakukan kesalahan dan punya kemampuan menyelesaikan apa pun dengan rapi." }
                }
            },
            // --- FRENCH ---
            fr: {
                pageTitle: "Attrapez! Test de Personnalité Teenieping",
                startTitle: "Quel Teenieping me ressemble?",
                startDescription: "Répondez aux questions et trouvez le Teenieping qui correspond parfaitement à votre personnalité!",
                startButton: "Commencer le Test!",
                resultIntro: "Suspense... Votre âme sœur Teenieping est!",
                resultPersonalityTitle: "Voici votre personnalité!",
                retryButton: "Réessayer",
                shareButton: "Sauvegarder Image",
                toastMessage: "Lien copié dans le presse-papiers!",
                toastImageMessage: "Image du résultat copiée dans le presse-papiers!",
                downloadMessage: "Image téléchargée!",
                questions: [
                    { question: "Quand un ami a l'air triste, je?", answers: [{ text: "Le serre fort dans mes bras pour le réconforter chaleureusement.", type: "hachuping" }, { text: "Demande ce qui se passe et cherche une solution.", type: "baroping" }, { text: "Raconte une histoire drôle pour le faire rire.", type: "lalaping" }] },
                    { question: "Face à un nouveau défi, ma réaction est?", answers: [{ text: "Crie 'Je peux le faire!' et l'affronte courageusement.", type: "azaping" }, { text: "Établis d'abord un plan minutieux pour éviter les erreurs.", type: "kkomkkomping" }, { text: "Pense positivement en croyant que ça va bien se passer.", type: "chachaping" }] }
                ],
                results: {
                    hachuping: { name: "Hachuping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/hachuping.webp", emoji: "💖", color: "#FF69B4", description: "Le Teenieping de l'Amour, Hachuping! Vous êtes affectueux et gentil avec un cœur chaleureux qui chérit les gens autour de vous. Vous trouvez une grande joie à aider les autres, une personne pleine d'amour." },
                    baroping: { name: "Baroping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/baroping.webp", emoji: "⚖️", color: "#4169E1", description: "Le Teenieping de la Droiture, Baroping! Vous êtes honnête et diligent, valorisant les règles et la justice. Une personne merveilleuse qui gagne la confiance avec un fort sens des responsabilités et du leadership." },
                    azaping: { name: "Azaping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/ajaping.webp", emoji: "🔥", color: "#FFD700", description: "Le Teenieping du Courage, Azaping! Vous êtes énergique et courageux, n'ayant pas peur des nouveaux défis. Une personne aventureuse qui influence positivement les autres avec une énergie passionnée." },
                    chachaping: { name: "Chachaping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/chachaping.webp", emoji: "🌈", color: "#32CD32", description: "Le Teenieping de l'Espoir, Chachaping! Avec votre personnalité positive et optimiste, vous ne perdez pas espoir même dans les situations difficiles. Une personne qui donne de l'espoir en encourageant et soutenant les autres." },
                    lalaping: { name: "Lalaping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/lalaping.webp", emoji: "🎵", color: "#FF6347", description: "Le Teenieping de la Joie, Lalaping! Vous êtes joyeux et espiègle, une personne amusante. Vous aimez chanter et danser et avez le talent de rendre l'atmosphère joyeuse. Être avec vous est toujours plein de rires!" },
                    haeping: { name: "Haeping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/happing.webp", emoji: "☀️", color: "#FFA500", description: "Le Teenieping du Bonheur, Haeping! Vous êtes toujours heureux et riez beaucoup, ayant la capacité de trouver le bonheur dans les petites choses. Votre énergie lumineuse répand aussi le bonheur aux gens autour de vous." },
                    mideoping: { name: "Mideoping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/miduping.webp", emoji: "🤝", color: "#8A2BE2", description: "Le Teenieping de la Confiance, Mideoping! Vous considérez la confiance et les promesses comme les plus importantes. Une personne fiable et digne de confiance qui est sérieuse et responsable, chérissant les relations une fois formées." },
                    kkomkkomping: { name: "Memoping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/memoping.webp", emoji: "📋", color: "#20B2AA", description: "Le Teenieping des Notes, Memoping! Vous êtes bon en organisation et aimez gérer tout de manière planifiée. Avec votre méticulosité qui cherche la perfection, vous faites peu d'erreurs et avez la capacité de finir n'importe quoi proprement." }
                }
            },
            // --- ENGLISH ---
            en: {
                pageTitle: "Catch! Teenieping Personality Test",
                startTitle: "Which Teenieping are you?",
                startDescription: "Answer the questions to find the Teenieping that matches your personality perfectly!",
                startButton: "Start Test!",
                resultIntro: "Drumroll... Your soulmate Teenieping is!",
                resultPersonalityTitle: "This is your personality!",
                retryButton: "Try Again",
                shareButton: "Save Image",
                toastMessage: "Link copied to clipboard!",
                toastImageMessage: "Result image copied to clipboard!",
                downloadMessage: "Image downloaded!",
                questions: [
                    { question: "When a friend looks sad, what do you do?", answers: [{ text: "Give them a warm hug to comfort them.", type: "hachuping" }, { text: "Ask what's wrong and try to find a solution.", type: "baroping" }, { text: "Tell a funny story to make them laugh.", type: "lalaping" }] },
                    { question: "When faced with a new challenge, how do you react?", answers: [{ text: "Shout 'I can do it!' and bravely take it on.", type: "azaping" }, { text: "Make a detailed plan first to avoid mistakes.", type: "kkomkkomping" }, { text: "Think positively, believing it will turn out well.", type: "chachaping" }] },
                    { question: "What do you do on a weekend with no plans?", answers: [{ text: "Play exciting music and dance to relieve stress.", type: "lalaping" }, { text: "Clean and organize my room, which I've been putting off.", type: "kkomkkomping" }, { text: "Spend time with people I love.", type: "hachuping" }] },
                    { question: "If something unfair happens in a team project?", answers: [{ text: "This isn't right! I speak my mind confidently.", type: "baroping" }, { text: "Suggest a solution that everyone can be happy with.", type: "chachaping" }, { text: "Trust my friends and quietly do my part.", type: "mideoping" }] },
                    { question: "When you see a cute animal on the street?", answers: [{ text: "So lovely! I approach it carefully.", type: "hachuping" }, { text: "Wow! So cool! I want to play with it!", type: "azaping" }, { text: "Just looking makes me happy~ I watch from a distance.", type: "haeping" }] },
                    { question: "A friend confides a secret in you. What do you do?", answers: [{ text: "I'll keep it no matter what! I promise.", type: "mideoping" }, { text: "I'm on your side! I say, cheering them on.", type: "chachaping" }, { text: "Don't worry! It will be resolved correctly.", type: "baroping" }] },
                    { question: "What is 'happiness' to you?", answers: [{ text: "Being able to be grateful and smile at small things.", type: "haeping" }, { text: "The process of moving vigorously towards a goal.", type: "azaping" }, { text: "Every moment spent with loved ones.", type: "hachuping" }] },
                    { question: "Your thoughts on organizing?", answers: [{ text: "I feel at ease when everything is perfectly in its place.", type: "kkomkkomping" }, { text: "It's important, but it's okay to be messy sometimes.", type: "lalaping" }, { text: "I only do it when necessary.", type: "azaping" }] },
                    { question: "What's the best compliment you'd like to hear?", answers: [{ text: "'You are so reliable.'", type: "mideoping" }, { text: "'Being with you makes me happy.'", type: "haeping" }, { text: "'You are so righteous.'", type: "baroping" }] },
                    { question: "When you face a difficult situation?", answers: [{ text: "I try to think positively without losing hope.", type: "chachaping" }, { text: "I face it bravely without giving up.", type: "azaping" }, { text: "I ask a trustworthy friend for advice.", type: "mideoping" }] }
                ],
                results: {
                    hachuping: { name: "Hachuping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/hachuping.webp", emoji: "💖", color: "#FF69B4", description: "The Teenieping of Love, Hachuping! You are affectionate, kind, and have a warm heart that cares for those around you. You find great joy in helping others, a person full of love." },
                    baroping: { name: "Baroping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/baroping.webp", emoji: "⚖️", color: "#4169E1", description: "The Teenieping of Righteousness, Baroping! You are honest, diligent, and value rules and justice. You are a wonderful person who gains trust with a strong sense of responsibility and leadership." },
                    azaping: { name: "Azaping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/ajaping.webp", emoji: "🔥", color: "#FFD700", description: "The Teenieping of Courage, Azaping! You are energetic, brave, and not afraid of new challenges. You are an adventurous person who positively influences others with your passionate energy." },
                    chachaping: { name: "Chachaping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/chachaping.webp", emoji: "🌈", color: "#32CD32", description: "The Teenieping of Hope, Chachaping! With your positive and optimistic personality, you don't lose hope even in difficult situations. You are a person who gives hope by encouraging and cheering for others." },
                    lalaping: { name: "Lalaping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/lalaping.webp", emoji: "🎵", color: "#FF6347", description: "The Teenieping of Joy, Lalaping! You are a cheerful and playful person. You love singing and dancing and have a talent for making the atmosphere fun. Being with you is always full of laughter!" },
                    haeping: { name: "Haeping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/happing.webp", emoji: "☀️", color: "#FFA500", description: "The Teenieping of Happiness, Haeping! You are always happy, laugh a lot, and have the ability to find happiness in small things. Your bright energy spreads happiness to those around you." },
                    mideoping: { name: "Mideoping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/miduping.webp", emoji: "🤝", color: "#8A2BE2", description: "The Teenieping of Trust, Mideoping! You value trust and promises the most. You are a dependable and trustworthy person who cherishes relationships once they are formed, with a serious and strong sense of responsibility." },
                    kkomkkomping: { name: "Memoping", image: "https://raw.githubusercontent.com/SLOWRAINMDML/TinipingEntry/refs/heads/main/memoping.webp", emoji: "📋", color: "#20B2AA", description: "The Teenieping of Records, Memoping! You are good at organizing and like to handle everything in a planned manner. With your perfection-seeking meticulousness, you make few mistakes and have the ability to finish any task neatly." }
                }
            }
        };

        // --- DOM Elements ---
        const pageTitle = document.getElementById('page-title');
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        
        const startTitle = document.getElementById('start-title');
        const startDescription = document.getElementById('start-description');
        const startBtn = document.getElementById('start-btn');
        const retryBtn = document.getElementById('retry-btn');
        const shareBtn = document.getElementById('share-btn');
        
        const progressBar = document.getElementById('progress-bar');
        const questionNumber = document.getElementById('question-number');
        const questionTitle = document.getElementById('question-title');
        const answerButtons = document.getElementById('answer-buttons');
        
        const resultIntro = document.getElementById('result-intro');
        const resultName = document.getElementById('result-name');
        const resultImage = document.getElementById('result-image');
        const resultPersonalityTitle = document.getElementById('result-personality-title');
        const resultDescription = document.getElementById('result-description');
        const toastMessage = document.getElementById('toast-message');

        // --- State ---
        let currentLanguage = 'ko';
        let currentQuestionIndex = 0;
        let scores = {};
        let randomQuestions = [];

        // --- Functions ---
        
        // Function to set the language and update UI text
        function setLanguage(lang) {
            currentLanguage = lang;
            const t = translations[lang];

            // Update all static text elements
            pageTitle.textContent = t.pageTitle;
            startTitle.textContent = t.startTitle;
            startDescription.textContent = t.startDescription;
            startBtn.textContent = t.startButton;
            resultIntro.textContent = t.resultIntro;
            resultPersonalityTitle.textContent = t.resultPersonalityTitle;
            retryBtn.textContent = t.retryButton;
            shareBtn.textContent = t.shareButton;
            toastMessage.textContent = t.toastMessage;

            document.documentElement.lang = lang;
            
            // If we're currently showing results, update the result display too
            if (!resultScreen.classList.contains('hidden')) {
                showResult();
            }
        }

        // Function to start the quiz
        function startQuiz() {
            currentQuestionIndex = 0;
            scores = { hachuping: 0, baroping: 0, azaping: 0, chachaping: 0, lalaping: 0, haeping: 0, mideoping: 0, kkomkkomping: 0 };
            
            const allQuestions = translations[currentLanguage].questions;
            randomQuestions = [];
            const questionsCopy = [...allQuestions];
            for (let i = 0; i < 10; i++) {
                if (questionsCopy.length === 0) break;
                const randomIndex = Math.floor(Math.random() * questionsCopy.length);
                randomQuestions.push(questionsCopy[randomIndex]);
                questionsCopy.splice(randomIndex, 1);
            }
            
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            
            showQuestion();
        }

        // Function to display the current question
        function showQuestion() {
            if (currentQuestionIndex >= randomQuestions.length) return;
            const question = randomQuestions[currentQuestionIndex];
            
            const progress = ((currentQuestionIndex + 1) / randomQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
            
            questionNumber.textContent = `${currentQuestionIndex + 1} / ${randomQuestions.length}`;
            questionTitle.textContent = question.question;
            answerButtons.innerHTML = '';

            question.answers.forEach(answer => {
                const button = document.createElement('button');
                button.textContent = answer.text;
                button.classList.add('w-full', 'bg-sky-100', 'hover:bg-sky-200', 'text-sky-800', 'font-semibold', 'py-3', 'px-4', 'rounded-lg', 'transition', 'duration-300', 'text-left', 'text-base', 'sm:text-lg');
                button.onclick = () => selectAnswer(answer.type);
                answerButtons.appendChild(button);
            });
        }

        // Function to handle answer selection
        function selectAnswer(type) {
            if(scores[type] !== undefined) {
                scores[type]++;
            }
            currentQuestionIndex++;

            if (currentQuestionIndex < randomQuestions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        // Function to display the result
        function showResult() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            let resultType = 'hachuping';
            let maxScore = -1;

            for(const type in scores) {
                if (scores[type] > maxScore) {
                    maxScore = scores[type];
                    resultType = type;
                }
            }

            const topTypes = Object.keys(scores).filter(type => scores[type] === maxScore);
            if (topTypes.length > 1) {
                resultType = topTypes[Math.floor(Math.random() * topTypes.length)];
            }

            const result = translations[currentLanguage].results[resultType];
            const t = translations[currentLanguage];

            resultName.textContent = result.name;
            resultPersonalityTitle.textContent = t.resultPersonalityTitle;
            resultDescription.textContent = result.description;
            
            // URL을 이미지에 포함하기 위해 표시
            const shareUrl = document.getElementById('share-url');
            shareUrl.textContent = window.location.href;
            
            // Remove any existing emoji display
            const existingEmoji = document.getElementById('result-emoji');
            if (existingEmoji) existingEmoji.remove();
            
            // Check if this character has a real image
            if (result.image) {
                // Use real image for all characters that have image URLs
                resultImage.style.display = 'block';
                resultImage.src = result.image;
                resultImage.alt = result.name;
                resultImage.onerror = () => {
                    // Fallback to emoji if image fails
                    resultImage.style.display = 'none';
                    createEmojiDisplay();
                };
            } else {
                // Use emoji-based display for characters without images
                resultImage.style.display = 'none';
                createEmojiDisplay();
            }
            
            function createEmojiDisplay() {
                // Create new emoji display
                const emojiDiv = document.createElement('div');
                emojiDiv.id = 'result-emoji';
                emojiDiv.style.cssText = `
                    width: 200px;
                    height: 200px;
                    margin: 16px auto;
                    background-color: ${result.color};
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 80px;
                    border: 4px solid #8B5CF6;
                    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
                `;
                emojiDiv.textContent = result.emoji;
                
                // Insert the emoji after the result name
                resultImage.parentNode.insertBefore(emojiDiv, resultImage);
            }
        }

        // Function for sharing the result (이미지 다운로드만)
        async function shareResult() {
            console.log('공유하기 버튼 클릭됨 - 이미지 다운로드 시작'); // 디버깅용 로그
            
            try {
                console.log('이미지 다운로드 시도 중...');
                await downloadResultImage();
                console.log('이미지 다운로드 성공');
                showToast(translations[currentLanguage].downloadMessage);

            } catch (err) {
                console.error('이미지 다운로드 실패:', err);
                // 이미지 다운로드에 실패한 경우 대체 메시지 표시
                showToast('이미지 다운로드에 실패했습니다. 다시 시도해주세요.');
            }
        }

        // 모바일 환경 감지 함수
        function isMobileDevice() {
            return /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || 
                   (navigator.maxTouchPoints && navigator.maxTouchPoints > 2);
        }

        // Function to download result image
        async function downloadResultImage() {
            console.log('이미지 다운로드 함수 시작');
            
            // html2canvas가 로드되었는지 확인
            if (typeof html2canvas === 'undefined') {
                console.error('html2canvas 라이브러리가 로드되지 않았습니다');
                throw new Error('html2canvas 라이브러리를 찾을 수 없습니다');
            }

            const captureElement = document.querySelector("#capture");
            if (!captureElement) {
                console.error('캡처할 요소를 찾을 수 없습니다');
                throw new Error('캡처할 요소를 찾을 수 없습니다');
            }

            console.log('html2canvas로 캡처 시작...');
            
            // #capture 영역을 캡처 (CORS 문제 해결을 위한 옵션 조정)
            const canvas = await html2canvas(captureElement, {
                useCORS: true,
                allowTaint: true,
                backgroundColor: '#ffffff',
                scale: 2, // 고화질로 캡처
                logging: false, // 모바일에서는 로깅 비활성화
                foreignObjectRendering: false // CORS 문제 해결
            });
            
            console.log('캔버스 생성 완료, 다운로드 시작...');
            
            // 모바일과 데스크톱 환경을 구분하여 처리
            if (isMobileDevice()) {
                console.log('모바일 환경 감지 - 새 창에서 이미지 열기');
                return handleMobileImageSave(canvas);
            } else {
                console.log('데스크톱 환경 - 직접 다운로드');
                return handleDesktopImageDownload(canvas);
            }
        }

        // 모바일용 이미지 저장 처리
        function handleMobileImageSave(canvas) {
            return new Promise((resolve, reject) => {
                try {
                    // 캔버스를 데이터 URL로 변환
                    const dataURL = canvas.toDataURL('image/png', 1.0);
                    
                    // 새 창에서 이미지 열기
                    const newWindow = window.open();
                    if (newWindow) {
                        newWindow.document.write(`
                            <html>
                                <head>
                                    <title>티니핑 결과 이미지</title>
                                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                    <style>
                                        body { 
                                            margin: 0; 
                                            padding: 20px;
                                            background: #f0f0f0;
                                            display: flex;
                                            flex-direction: column;
                                            align-items: center;
                                            font-family: 'Jua', sans-serif;
                                        }
                                        img { 
                                            max-width: 100%; 
                                            height: auto;
                                            border-radius: 10px;
                                            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                                        }
                                        .instruction {
                                            background: white;
                                            padding: 15px;
                                            border-radius: 10px;
                                            margin-bottom: 15px;
                                            text-align: center;
                                            color: #333;
                                            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                                        }
                                    </style>
                                </head>
                                <body>
                                    <div class="instruction">
                                        📱 이미지를 길게 눌러서 저장해주세요!<br>
                                        <small>Long press the image to save it!</small>
                                    </div>
                                    <img src="${dataURL}" alt="티니핑 성격 테스트 결과">
                                </body>
                            </html>
                        `);
                        newWindow.document.close();
                        console.log('모바일 이미지 창 열기 성공');
                        resolve();
                    } else {
                        console.error('새 창 열기 실패 (팝업 차단 가능성)');
                        // 팝업이 차단된 경우 클립보드 복사 시도
                        copyImageToClipboard(canvas).then(resolve).catch(reject);
                    }
                } catch (err) {
                    console.error('모바일 이미지 처리 실패:', err);
                    reject(err);
                }
            });
        }

        // 데스크톱용 이미지 다운로드 처리
        function handleDesktopImageDownload(canvas) {
            return new Promise((resolve, reject) => {
                canvas.toBlob((blob) => {
                    if (blob) {
                        try {
                            const url = URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = `teenieping-result-${Date.now()}.png`;
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                            URL.revokeObjectURL(url);
                            console.log('데스크톱 이미지 다운로드 완료');
                            resolve();
                        } catch (err) {
                            console.error('데스크톱 다운로드 링크 생성 실패:', err);
                            reject(err);
                        }
                    } else {
                        console.error('Blob 생성 실패');
                        reject(new Error('이미지 Blob 생성에 실패했습니다'));
                    }
                }, 'image/png');
            });
        }

        // 클립보드에 이미지 복사 (최신 브라우저 지원)
        async function copyImageToClipboard(canvas) {
            try {
                if (navigator.clipboard && navigator.clipboard.write) {
                    console.log('클립보드에 이미지 복사 시도...');
                    
                    canvas.toBlob(async (blob) => {
                        if (blob) {
                            try {
                                await navigator.clipboard.write([
                                    new ClipboardItem({
                                        'image/png': blob
                                    })
                                ]);
                                console.log('클립보드에 이미지 복사 성공');
                                showToast('📋 이미지가 클립보드에 복사되었습니다!');
                            } catch (err) {
                                console.error('클립보드 복사 실패:', err);
                                throw err;
                            }
                        }
                    }, 'image/png');
                } else {
                    throw new Error('클립보드 API가 지원되지 않습니다');
                }
            } catch (err) {
                console.error('클립보드 이미지 복사 실패:', err);
                throw err;
            }
        }

        // 폴백: URL만 복사하는 함수
        function fallbackShareText() {
            console.log('폴백 함수 실행 - URL만 복사');
            
            // 클립보드 API가 지원되지 않는 경우를 위한 추가 처리
            if (!navigator.clipboard) {
                console.error('클립보드 API가 지원되지 않습니다');
                // 대안: 텍스트 선택 방식
                const textArea = document.createElement('textarea');
                textArea.value = window.location.href;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    showToast(translations[currentLanguage].toastMessage);
                } catch (err) {
                    console.error('텍스트 복사 실패:', err);
                    showToast('복사에 실패했습니다. URL을 수동으로 복사해주세요.');
                }
                document.body.removeChild(textArea);
                return;
            }
            
            navigator.clipboard.writeText(window.location.href).then(() => {
                console.log('URL 복사 성공');
                showToast(translations[currentLanguage].toastMessage);
            }).catch(err => {
                console.error('URL 복사 실패:', err);
                showToast('복사에 실패했습니다. URL을 수동으로 복사해주세요.');
            });
        }

        // 토스트 메시지 표시 함수
        function showToast(message) {
            toastMessage.textContent = message;
            toastMessage.classList.remove('hidden');
            toastMessage.classList.add('toast');
            setTimeout(() => {
                toastMessage.classList.add('hidden');
                toastMessage.classList.remove('toast');
            }, 3000);
        }

        // --- Event Listeners ---
        startBtn.addEventListener('click', startQuiz);
        retryBtn.addEventListener('click', () => {
             // Reset UI to start screen before starting quiz
            resultScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
        });
        shareBtn.addEventListener('click', shareResult);

        // Initialize with default language
        setLanguage('ko');

    </script>
</body>
</html>
